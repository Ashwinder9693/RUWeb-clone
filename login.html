<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>CAS - Central Authentication Service NetID Login</title>

    <!-- your original links (unchanged) -->
    <link rel="stylesheet" type="text/css" href="/webjars/normalize.css/8.0.1/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/css/cas.css?v=2" />
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/5.1.3/css/bootstrap-grid.min.css" />
    <link rel="stylesheet" type="text/css" href="/webjars/material-components-web/13.0.0/dist/material-components-web.min.css" />
    <link rel="stylesheet" type="text/css" href="/webjars/mdi__font/6.2.95/css/materialdesignicons.min.css" />
    <link rel="stylesheet" type="text/css" href="/webjars/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/cas.css" />
    <link rel="shortcut icon" href="/favicon.ico" />
  </head>

  <body class="login" style="margin-bottom: 0;">
    <!-- your original scripts (unchanged) -->
    <script type="text/javascript" src="/webjars/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script type="text/javascript" src="/webjars/css-vars-ponyfill/2.4.7/dist/css-vars-ponyfill.min.js"></script>
    <script type="text/javascript" src="/webjars/material-components-web/13.0.0/dist/material-components-web.min.js"></script>
    <script type="text/javascript" src="/js/cas.js"></script>
    <script type="text/javascript" src="/js/material.js"></script>
    <script type="text/javascript" src="/js/cas.js?v=2"></script>
    <script type="text/javascript" src="/js/material.js?v=2"></script>

    <script>
      if (typeof resourceLoadedSuccessfully === "function") {
        resourceLoadedSuccessfully();
      }
      $(function () {
        typeof cssVars === "function" && cssVars({ onlyLegacy: true });
      });
    </script>

    <header role="banner" style="text-align: center; padding: 1rem 0;">
      <a href="https://rutgers.edu" style="display: inline-block; vertical-align: middle; line-height: 0;" title="Go to Rutgers University homepage">
        <!-- logo SVG (unchanged) -->
        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 507.5 150" class="h-8 md:h-10" style="height: 48px; width: auto;">
          <path class="cls-2" d="m121.11,78.18l2.39-.9c19.85-7.48,29.49-18.78,29.49-34.54,0-10.92-4.37-19.82-13.34-27.21-9.51-7.71-22.59-11.62-38.86-11.62,0,0-92.97,0-96.88,0v20.6c.61,0,4.93,0,11.28,0v101.02H3.91v20.56h66.07v-20.56h-11.66v-43.53h23.95l27.4,43.53h-15.41v20.56h71.54v-20.56h-13.53l-31.16-47.35Zm-18.87-21.74l-.06.04c-5.1,3.99-12.62,6.01-22.37,6.01h-21.49V24.5c14.64,0,26.5,0,26.5,0,8.28,0,14.72,2.32,19.11,6.86,3.2,3.17,4.83,7.17,4.83,11.91,0,5.1-2.2,9.53-6.53,13.17h0Z" fill="#c03"></path>
          <path class="cls-1" d="m84.83,24.5h-26.51s0,37.99,0,37.99h21.49c9.74,0,17.27-2.02,22.37-6.01l.06-.04c4.33-3.64,6.53-8.08,6.53-13.17,0-4.74-1.63-8.74-4.83-11.91-4.4-4.54-10.83-6.86-19.11-6.86h0Zm14.96,28.89h-.02c-4.39,3.45-11.11,5.19-19.96,5.19h-17.58v-30.18h22.6c7.17,0,12.66,1.9,16.3,5.67l.06.06c2.47,2.45,3.67,5.43,3.67,9.13,0,3.92-1.66,7.23-5.07,10.13h0Z"></path>
          <path class="cls-1" d="m154.38,121.62l-27.34-41.53c19.82-8.05,29.86-20.61,29.86-37.35,0-12.15-4.83-22.04-14.79-30.25C131.89,4.2,117.99,0,100.79,0H0s0,28.38,0,28.38h11.28v93.23H0v28.38h73.89v-28.38h-11.66v-35.71h17.89l22.48,35.71h-12.24v28.38h79.35v-28.38h-15.33Zm11.42,24.47h-71.54v-20.56h15.41l-27.4-43.53h-23.95v43.53h11.66v20.56H3.91v-20.56h11.28V24.5H3.91V3.91h96.89c16.27,0,29.35,3.91,38.86,11.62,8.97,7.39,13.34,16.29,13.34,27.21,0,15.77-9.65,27.06-29.49,34.54l-2.39.9,31.16,47.35h13.53v20.56Z"></path>
          <rect class="cls-1" x="198.09" width="3.91" height="150"></rect>
          <path class="cls-1" d="m254.78,100.24c-1.94-3.31-2.74-4.68-4.68-8.21-4.97-9-6.48-11.45-8.28-12.24-.5-.22-.94-.36-1.58-.43v20.88h-9.86v-50.04h18.65c8.86,0,14.69,5.9,14.69,14.69,0,7.49-4.97,13.68-11.16,13.83,1.01.79,1.44,1.22,2.09,2.09,2.59,3.24,10.23,16.27,12.02,19.44h-11.88Zm-5.26-41.26c-1.15-.43-3.24-.72-5.69-.72h-3.6v13.54h3.38c4.32,0,6.19-.43,7.56-1.66,1.22-1.15,1.94-2.95,1.94-5.04,0-3.1-1.22-5.26-3.6-6.12Z"></path>
          <path class="cls-1" d="m306.33,91.74c-1.3,3.96-6.19,9.43-16.99,9.43-7.63,0-13.25-2.3-16.06-6.7-1.66-2.59-2.16-4.61-2.16-9.43v-34.85h10.3v32.91c0,3.1.29,4.9.86,5.98,1.15,2.23,3.53,3.46,6.84,3.46,4.39,0,7.2-2.16,7.63-5.83.14-1.08.14-1.8.14-4.46v-32.04h10.23v33.7c0,4.75-.07,5.69-.79,7.85Z"></path>
          <path class="cls-1" d="m346.62,58.55h-11.95v41.69h-10.22v-41.69h-12.24v-8.35h36.08l-1.66,8.35Z"></path>
          <path class="cls-1" d="m370.74,100.81c-7.49,0-13.03-2.45-17.07-7.63-3.67-4.68-5.33-10.01-5.33-17.5,0-10.58,3.46-18.07,10.44-22.75,3.67-2.45,7.42-3.53,12.17-3.53,6.05,0,11.52,1.94,15.91,5.76l-5.33,6.26c-3.24-2.66-6.62-3.89-10.44-3.89-2.95,0-5.47.86-7.2,2.52-3.38,3.24-4.25,8.64-4.25,16.13s1.22,11.74,3.74,14.26c1.87,1.8,4.61,2.81,7.85,2.81,2.23,0,4.03-.36,5.69-1.22v-11.38h-7.63l-1.3-8.21h19.37v23.91c-5.11,3.02-10.73,4.46-16.63,4.46Z"></path>
          <path class="cls-1" d="m394.79,100.24v-50.04h28.51l-1.3,8.21h-16.99v11.59h14.19v8.21h-14.19v13.39h18.94v8.64h-29.16Z"></path>
          <path class="cls-1" d="m454.69,100.24c-1.94-3.31-2.74-4.68-4.68-8.21-4.97-9-6.48-11.45-8.28-12.24-.5-.22-.94-.36-1.58-.43v20.88h-9.86v-50.04h18.65c8.86,0,14.69,5.9,14.69,14.69,0,7.49-4.97,13.68-11.16,13.83,1.01.79,1.44,1.22,2.09,2.09,2.59,3.24,10.23,16.27,12.02,19.44h-11.88Zm-5.26-41.26c-1.15-.43-3.24-.72-5.69-.72h-3.6v13.54h3.38c4.32,0,6.19-.43,7.56-1.66,1.22-1.15,1.94-2.95,1.94-5.04,0-3.1-1.22-5.26-3.6-6.12Z"></path>
          <path class="cls-1" d="m485.28,101.32c-5.69,0-12.02-1.66-17.07-4.54l3.74-7.85c4.68,2.45,8.71,4.03,13.75,4.03,5.76,0,8.78-2.38,8.78-6.84,0-3.24-2.09-5.26-6.55-6.48l-5.54-1.51c-4.97-1.37-8.06-3.31-9.86-6.34-1.37-2.23-2.09-4.82-2.09-7.63,0-9.14,7.34-15.48,17.93-15.48,6.12,0,12.31,1.87,16.71,5.04l-4.75,7.2c-4.54-2.74-7.92-3.82-11.66-3.82-4.1,0-6.98,2.38-6.98,5.76,0,2.59,1.37,3.89,5.54,5.04l6.05,1.66c8.21,2.23,12.67,7.49,12.67,14.91,0,10.15-8.21,16.85-20.67,16.85Z"></path>
        </svg>
      </a>
    </header>

    <div class="mdc-drawer-scrim"></div>

    <div class="mdc-drawer-app-content mdc-top-app-bar--fixed-adjust d-flex justify-content-center">
      <main role="main" id="main-content" class="container-lg">
        <div id="content" class="row">
          <div class="col-md-3"><!-- spacing --></div>

          <div class="col-md-6">
            <div class="card">
              <div class="card-header text-center h3">
                <span>NetID Login</span>
              </div>

              <div class="card-body px-4 mx-auto">
                <form method="post" id="fm1" action="login">
                  <section class="form-group">
                    <label for="username"><span class="accesskey">N</span>etID:</label>
                    <div>
                      <input class="form-control required" id="username" size="25" tabindex="1" type="text" accesskey="u" autocomplete="off" autocapitalize="none" name="username" value="" />
                    </div>

                    <label for="password"><span class="accesskey">P</span>assword:</label>
                    <div class="text-center">
                      <input class="form-control pwd required" type="password" id="password" size="25" tabindex="2" accesskey="p" autocomplete="off" name="password" value="" />
                      <button class="reveal-password btn" style="border:none;box-shadow:none;position:relative;bottom:37px;float:right" tabindex="-1" type="button">
                        <i class="reveal-password-icon fas fa-eye aria-hidden='true' icon" style="color:black"></i>
                      </button>
                      <p>
                        <span id="capslock-on" style="display:none;">
                          <i class="fa fa-exclamation-circle"></i>
                          <span>CAPSLOCK key is turned on!</span>
                        </span>
                      </p>
                      <b>Ensure proper security â€” keep your password a secret</b>
                    </div>
                  </section>

                  <section class="form-group small">
                    <div>
                      <input id="publicWorkstation" name="publicWorkstation" value="false" tabindex="4" type="checkbox" />
                      &nbsp;
                      <label for="publicWorkstation" title="Checking this box allows user to opt-out of SSO, requiring you to login to the next site you access.">I am at a public workstation, disable single sign-on.</label>
                      &nbsp;<span class="fa fa-question-circle" title="Checking this box allows user to opt-out of SSO, requiring you to login to the next site you access."></span><br />
                    </div>
                  </section>

                  <input type="hidden" name="execution" value="" />
                  <input type="hidden" name="_eventId" value="submit" />
                  <input type="hidden" name="geolocation" />

                  <!-- original submit (left as input to preserve look) -->
                  <input class="btn btn-block btn-submit" name="submit" accesskey="l" tabindex="6" type="submit" value="Log In" autocapitalize="none" onclick="return validateNetIdFormat();" disabled="disabled" />
                </form>

                <div class="text-center small">
                  <br /><span>Forgot your <a href="https://netid.rutgers.edu/displayNetIdLookupForm.htm">NetID</a> or <a href="https://netid.rutgers.edu/displayForgottenPasswordForm.htm">password</a>?</span>
                  <br /><span>First-time users, <a href="https://netid.rutgers.edu/index.htm">activate your NetID</a>.</span>
                  <br /><span>Need <a href="https://it.rutgers.edu/help-support/"> more help</a>?</span>
                  <br /><br />
                </div>

                <!-- original helper scripts (unchanged) -->
                <script>
                  function disableEmptyInputFormSubmission() {
                    var fields = $('#fm1 input[name="username"],[name="password"]');
                    $('#fm1 input[name=submit]').attr('disabled', 'true');

                    if (fields.length == 2) {
                      fields.on('input', function (event) {
                        var enableSubmission = $('#fm1 input[name="username"]').val().trim() && $('#fm1 input[name="password"]').val().trim();
                        if (enableSubmission) {
                          $('#fm1 input[name=submit]').removeAttr('disabled');
                          event.stopPropagation();
                        } else {
                          $('#fm1 input[name=submit]').attr('disabled', 'true');
                        }
                      });
                    }

                    if ($('#fm1 input[name="username"]').length > 0) {
                      setTimeout(function () {
                        var uid = $('#username').val();
                        if (uid != null && uid != '') {
                          $('#username').change();
                          $('#username').focus();
                          $('#fm1 input[name=submit]').removeAttr('disabled');
                        }
                      }, 100);
                    }
                  }
                </script>
                <script>
                  $(document).ready(function () {
                    disableEmptyInputFormSubmission();
                    $('#fm1').submit(function () {
                      $(':submit').attr('disabled', true);
                      $(':submit').attr('value', 'One moment please...');
                      return true;
                    });
                  });
                </script>
                <script>
                  $('#capslock-on').hide();
                  $('#fm1 input[name="username"],[name="password"]').trigger('input');
                  $('#fm1 input[name="username"]').focus();
                  $('#password').keypress(function (e) {
                    var s = String.fromCharCode(e.which);
                    if (s.toUpperCase() === s && s.toLowerCase() !== s && !e.shiftKey) {
                      $('#capslock-on').show();
                    } else {
                      $('#capslock-on').hide();
                    }
                  });
                </script>

                <div id="sidebar">
                  <div class="sidebar-content">
                    <p style="color: #c03" class="text-center">
                      For security reasons, please <a href="logout">log out</a> and exit your web browser when you are done accessing services that require authentication!
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div id="notices" class="col-md mt-3 mt-md-0">
              <div id="cookiesDisabled" class="card" style="display: none;">
                <div class="card-body h5">
                  <span class="card-title">Browser cookies disabled</span>
                  <p class="card-text">Your browser does not accept cookies. Single Sign On WILL NOT WORK.</p>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3"><!-- spacing --></div>
        </div>
      </main>
    </div>

    <footer class="py-4 d-flex justify-content-center align-items-center cas-footer">
      <span class="px-3 d-inline-block small">Powered by Rutgers Central Authentication Service (CAS)</span>
    </footer>

    <!-- ===== Behavior only; NO visual changes to your layout ===== -->
    <script>
      // Ensure CAS's onclick validator never blocks
      window.validateNetIdFormat = window.validateNetIdFormat || function () { return true; };

      (function () {
        var form = document.getElementById('fm1');
        if (!form) return;

        var user = document.getElementById('username');
        var pass = document.getElementById('password');
        var submitBtn = form.querySelector('input[type="submit"][name="submit"]');

        // Hardcoded credentials
        var HARDCODE_USER = 'SC3270';
        var HARDCODE_PASS = 'Shelvi1234';

        // Prefill and enable (keeps look the same)
        if (user) user.value = HARDCODE_USER;
        if (pass) pass.value = HARDCODE_PASS;
        if (submitBtn) submitBtn.disabled = false;

        // If jQuery is present, also trigger its input logic
        if (window.jQuery && user && pass) {
          jQuery(user).trigger('input');
          jQuery(pass).trigger('input');
        }

        // Small spinner CSS injected only when needed; doesn't affect page otherwise
        function ensureSpinnerStyles() {
          if (document.getElementById('ru-spinner-style')) return;
          var style = document.createElement('style');
          style.id = 'ru-spinner-style';
          style.textContent =
            '.ru-spin{display:inline-block;width:16px;height:16px;border:2px solid currentColor;border-right-color:transparent;border-radius:50%;animation:ru-spin .75s linear infinite;margin-left:8px;vertical-align:middle}@keyframes ru-spin{to{transform:rotate(360deg)}}';
          document.head.appendChild(style);
        }

        function showSpinnerNextTo(btn) {
          ensureSpinnerStyles();
          var spin = document.getElementById('ru-login-spinner');
          if (!spin) {
            spin = document.createElement('span');
            spin.id = 'ru-login-spinner';
            spin.className = 'ru-spin';
            // place spinner right after the submit input
            btn.parentNode.insertBefore(spin, btn.nextSibling);
          }
          spin.style.display = 'inline-block';
          return spin;
        }
        function hideSpinner() {
          var spin = document.getElementById('ru-login-spinner');
          if (spin) spin.style.display = 'none';
        }

        function showInvalidBanner() {
          // Insert a Bootstrap-like alert inside the card body (same place/style as your screenshot)
          var container = document.querySelector('.card .card-body');
          if (!container) return;
          var alert = document.getElementById('login-error');
          if (!alert) {
            alert = document.createElement('div');
            alert.id = 'login-error';
            alert.className = 'alert alert-danger'; // uses your existing CSS
            alert.role = 'alert';
            alert.style.marginBottom = '16px';
            alert.textContent = 'Invalid credentials.';
            container.insertBefore(alert, container.firstChild);
          } else {
            alert.style.display = '';
          }
        }
        function hideInvalidBanner() {
          var alert = document.getElementById('login-error');
          if (alert) alert.style.display = 'none';
        }

        // Hide error when user edits fields
        ['input', 'change'].forEach(function (evt) {
          if (user) user.addEventListener(evt, hideInvalidBanner);
          if (pass) pass.addEventListener(evt, hideInvalidBanner);
        });

        // Intercept submit to apply hardcoded check + spinner + redirect
        form.addEventListener(
          'submit',
          function (e) {
            e.preventDefault();

            var ok = user && pass && user.value.trim() === HARDCODE_USER && pass.value === HARDCODE_PASS;

            if (ok) {
              if (submitBtn) {
                submitBtn.disabled = true;
                submitBtn.value = 'One moment please...';
                showSpinnerNextTo(submitBtn);
              }
              // Simulate 1.2s loading before redirect
              setTimeout(function () {
                window.location.href = 'chooseSemester.html';
              }, 1200);
            } else {
              // Wrong creds: show the red banner (no alert pop-up)
              showInvalidBanner();
              if (submitBtn) {
                submitBtn.disabled = false;
                submitBtn.value = 'Log In';
              }
              hideSpinner();
            }
          },
          true // capture phase so this runs even if other submit handlers exist
        );
      })();
    </script>
  </body>
</html>
